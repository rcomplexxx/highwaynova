(window["webpackJsonp-ae-fe/cosmos-1"]=window["webpackJsonp-ae-fe/cosmos-1"]||[]).push([[33],{104:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},108:function(e,t,n){"use strict";var r=n(109);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},109:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1121:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"set",(function(){return A})),n.d(r,"get",(function(){return j})),n.d(r,"getSite",(function(){return I})),n.d(r,"setSite",(function(){return R})),n.d(r,"getRegion",(function(){return q})),n.d(r,"setRegion",(function(){return N})),n.d(r,"getProvince",(function(){return U})),n.d(r,"setProvince",(function(){return L})),n.d(r,"getCity",(function(){return M})),n.d(r,"setCity",(function(){return W})),n.d(r,"getCurrency",(function(){return J})),n.d(r,"setCurrency",(function(){return B})),n.d(r,"getLocale",(function(){return Q})),n.d(r,"setLocale",(function(){return D})),n.d(r,"isLoggedIn",(function(){return F})),n.d(r,"getMemberId",(function(){return H})),n.d(r,"getCsrfToken",(function(){return G})),n.d(r,"getGdpr",(function(){return $})),n.d(r,"setGdpr",(function(){return X}));var o={};n.r(o),n.d(o,"clk",(function(){return be})),n.d(o,"exp",(function(){return xe})),n.d(o,"setConfig",(function(){return _e.s})),n.d(o,"sendPV",(function(){return _e.j})),n.d(o,"sendInteractionObject",(function(){return _e.h})),n.d(o,"sendInteractionObjects",(function(){return _e.i})),n.d(o,"click",(function(){return _e.a})),n.d(o,"exposure",(function(){return _e.b})),n.d(o,"sendAEClick",(function(){return _e.c})),n.d(o,"sendAEExposure",(function(){return _e.d})),n.d(o,"sendPluginEvent",(function(){return _e.o})),n.d(o,"sendPagePref",(function(){return _e.n})),n.d(o,"sendPagePerfCfpt",(function(){return _e.k})),n.d(o,"sendPagePerfDidMount",(function(){return _e.m})),n.d(o,"sendPagePerfDataComplete",(function(){return _e.l})),n.d(o,"sendCustomError",(function(){return _e.g})),n.d(o,"sendApiError",(function(){return _e.e})),n.d(o,"sendApiSuccess",(function(){return _e.f})),n.d(o,"sendResourceError",(function(){return _e.p})),n.d(o,"sendWhitePageEvent",(function(){return _e.r})),n.d(o,"sendSafeEvent",(function(){return _e.q})),n.d(o,"weexGepTracker",(function(){return _e.t}));var i={};n.r(i),n.d(i,"isLogin",(function(){return ke})),n.d(i,"run",(function(){return Se}));var a={};n.r(a),n.d(a,"awsc",(function(){return ge})),n.d(a,"tracker",(function(){return o})),n.d(a,"login",(function(){return i}));var u=n(1),c=n.n(u),s=n(2),p=n.n(s),d=n(0),l=n.n(d),f=n(4),m={},g=decodeURIComponent,y=encodeURIComponent;function v(e){return"string"==typeof e}function h(e){return v(e)&&""!==e}function w(e){if(!h(e))throw new TypeError("Cookie name must be a non-empty string")}function _(e){return e}m.get=function(e,t){w(e),t="function"==typeof t?{converter:t}:t||{};var n=function(e,t){var n={};if(v(e)&&e.length>0)for(var r,o,i,a=t?g:_,u=e.split(/;\s/g),c=0,s=u.length;c<s;c++){if((i=u[c].match(/([^=]+)=/i))instanceof Array)try{r=g(i[1]),o=a(u[c].substring(i[1].length+1))}catch(e){}else r=g(u[c]),o="";r&&(n[r]=o)}return n}(document.cookie,!t.raw);return(t.converter||_)(n[e])},m.set=function(e,t,n){w(e);var r=(n=n||{}).expires,o=n.domain,i=n.path;n.raw||(t=y(String(t)));var a=e+"="+t,u=r;return"number"==typeof u&&(u=new Date).setDate(u.getDate()+r),u instanceof Date&&(a+="; expires="+u.toUTCString()),h(o)&&(a+="; domain="+o),h(i)&&(a+="; path="+i),n.secure&&(a+="; secure"),document.cookie=a,a},m.remove=function(e,t){return(t=t||{}).expires=new Date(0),this.set(e,"",t)};var b=m,x=n(23),k="undefined"!=typeof window,C={};k&&(window._comet_module_=window._comet_module_||{},C=window._comet_module_);var S={get:function(e){return"function"==typeof C[e]?C[e]():C[e]},load:function(e){return"undefined"==typeof window?S.get(e):(window._CosmosReadyPromise_=window._CosmosReadyPromise_||new Promise((function(e){window._CosmosReadyResolve_=e})),window.Comet?S.get(e):window._CosmosReadyPromise_.then((function(){return S.get(e)})))},set:function(e,t){C[e]=t},use:function(e,t){var n={};return Object.defineProperty(n,"current",{get:function(){return function(e,t){for(var n=t.split("."),r=n.length,o=0;null!=e&&o<r;)e=e[n[o++]];return o&&o==r?e:void 0}(C,e)||t}}),n}},O=S,T=O.use("config.cookie",x.a),E={get:function(e){return b.get(e,{domain:T.current.domain,path:"/",raw:!0})||""},set:function(e,t){b.set(e,t,{domain:T.current.domain,path:"/",expires:365,raw:!0})},validate:function(e,t){return!t||e&&t.test(e)},_getCookie:function(e){if(f.g)return P(e)||"";var t=e.name,n=e.key,r=e.rule,o=this.get(t);if(!n)return this.validate(o,r)?o:"";var i=new RegExp("(.*&?"+n+"=)(.*?)(&.*|$)");o.match(i);var a=RegExp.$2;return i.test(o)&&this.validate(a,r)?a:""},getCookie:function(e){return e?e.transform?e.transform(this._getCookie(e)):this._getCookie(e):""},setCookie:function(e,t){var n=t.name,r=t.key,o=t.rule;if(t&&(!e||this.validate(e,o)))if(r){var i=this.get(n);i=new RegExp("(.*&?"+r+"=)(.*?)(&.*|$)").test(i)?RegExp.$1+e+RegExp.$3:(i?i+"&":"")+r+"="+e,this.set(n,i)}else this.set(n,e)},isTrue:function(e){var t;return this.getCookie(e)===(null!==(t=null==e?void 0:e.trueValue)&&void 0!==t?t:"y")}},P=function(e){var t=Object(f.b)();switch(e){case T.current.cookie.site:return t.site;case T.current.cookie.region:return t.country;case T.current.cookie.province:return t.province;case T.current.cookie.city:return t.city;case T.current.cookie.currency:return t.currency;case T.current.cookie.locale:return t.locale;case T.current.cookie.sign:return Object(f.f)();case T.current.cookie.memberId:return Object(f.a)();default:return}};function A(e,t,n,r){return E.setCookie(e,{name:t,key:n,rule:r})}function j(e,t){return E.getCookie({name:e,key:t})}function I(){return E.getCookie(T.current.cookie.site)}function R(e){return E.setCookie(e,T.current.cookie.site)}function q(){return E.getCookie(T.current.cookie.region)}function N(e){return E.setCookie(e,T.current.cookie.region)}function U(){return E.getCookie(T.current.cookie.province)}function L(e){return E.setCookie(e,T.current.cookie.province)}function M(){return E.getCookie(T.current.cookie.city)}function W(e){return E.setCookie(e,T.current.cookie.city)}function J(){return E.getCookie(T.current.cookie.currency)}function B(e){return E.setCookie(e,T.current.cookie.currency)}function Q(){return E.getCookie(T.current.cookie.locale)}function D(e){return E.setCookie(e,T.current.cookie.locale)}function F(){return E.isTrue(T.current.cookie.sign)}function H(){return E.getCookie(T.current.cookie.memberId)}function G(){return E.getCookie(T.current.cookie.csrfToken)}function $(){return E.getCookie(T.current.cookie.gdpr)}function X(e){return E.setCookie(e,T.current.cookie.gdpr)}var K=r;function V(e){if(!e)return"";var t=[];return Object.keys(e).forEach((function(n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]))})),t.join("&")}function z(e,t){var n=V(t),r=-1!==e.indexOf("?")?"&":"?";return e+(n?r+n:"")}function Y(e){var t=e=function(e){return(e=Object.assign({},e)).type&&(e.responseType=e.type,delete e.type),e.withCredentials&&(e.xhrFields=Object.assign({},e.xhrFields,{withCredentials:e.withCredentials})),-1!==["GET","OPTIONS","HEAD"].indexOf(e.method.toUpperCase())&&(e.params=e.data,delete e.data),e.headers["Content-Type"]&&-1!==e.headers["Content-Type"].indexOf("application/x-www-form-urlencoded")&&"object"==typeof e.data?e.data=V(e.data):null!==e.data&&"object"==typeof e.data&&(e.headers["Content-Type"]="application/json;charset=utf-8",e.data=JSON.stringify(e.data)),e}(e),n=t.method,r=t.url,o=t.params,i=t.data,a=t.headers,u=t.responseType,c=t.xhrFields,s=t.timeout,p=t.success,d=t.error,l=new XMLHttpRequest;l.open(n,z(r,o),!0),l.timeout=s,l.onreadystatechange=function(){if(l&&4===l.readyState&&0!==l.status){var e;if(l.status>=200&&l.status<300)try{e="json"===u?JSON.parse(l.responseText):l.responseText,p&&p(e)}catch(e){d&&d(e)}else d&&d(status);l=null}},c&&Object.keys(c).forEach((function(e){l[e]=c[e]})),"setRequestHeader"in l&&Object.keys(a).forEach((function(e){l.setRequestHeader(e,a[e])})),l.onabort=function(){l&&(d&&d(new Error("request aborted")),l=null)},l.onerror=function(){d&&d(new Error("network error")),l=null},l.ontimeout=function(){d&&d(new Error("timeout")),l=null},l.send(i)}var Z,ee=function(e){var t,n=e.url,r=e.data,o=e.attrs,i=void 0===o?{}:o,a=e.timeout,u=void 0===a?5e3:a,c=e.success,s=e.error,p=document.createElement("script");p.async=!0,p.type="text/javascript";var d=function(){!function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}(p),p=null,clearTimeout(t),s&&s()};Object.keys(i).forEach((function(e){p.setAttribute(e,i[e])})),p.onload=function(){p=null,clearTimeout(t),c&&c()},p.onerror=d,t=setTimeout(d,u),p.src=z(n,r),document.getElementsByTagName("head")[0].appendChild(p)},te="undefined"!=typeof window;function ne(e){return new Promise((function(t,n){return r=p()({},e,{success:t,error:n}),a=r.url,u=r.data,c=r.jsonpCallback,s=void 0===c?"callback":c,d=r.jsonpCallbackName,l=void 0===d?"_comet_request_"+(te?window._comet_request_jsonp_count_++:Z++):d,f=r.timeout,m=r.success,g=r.error,a=z(a,p()(((o={})[s]=l,o),u)),window[l]=function(e){i=e,delete window[l]},void ee({url:a,timeout:f,success:function(){m(i)},error:g});var r,o,i,a,u,c,s,d,l,f,m,g}))}function re(e){var t,n=(null===(t=O.get("config"))||void 0===t?void 0:t.request)||{};return n.transformRequest&&(e=n.transformRequest(e)),"jsonp"===(e=function(e){return(e=Object.assign({},{method:"get",type:"json",timeout:1e4,headers:{}},e)).method=e.method.toLowerCase(),e.type=e.type.toLowerCase(),e}(e)).type?ne(e):"script"===e.type?function(e){return new Promise((function(t,n){return ee(p()({},e,{success:t,error:n}))}))}(e):function(e){return new Promise((function(t,n){return Y(p()({},e,{success:t,error:n}))}))}(e)}te?window._comet_request_jsonp_count_=window._comet_request_jsonp_count_||1:Z=0;var oe,ie,ae,ue,ce=n(24),se=O.use("config.awsc",ce.a),pe=function(e){return new Promise((function(t){setTimeout((function(){t(!0)}),e)}))},de="",le=function(){return""},fe=new Promise((function(e){oe=e})),me={getBaxia:(ue=c()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.ready();case 2:return e.abrupt("return",window.baxiaCommon);case 3:case"end":return e.stop()}}),e)}))),function(){return ue.apply(this,arguments)}),getUA:(ae=c()(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.ready();case 2:return e.abrupt("return",le());case 3:case"end":return e.stop()}}),e)}))),function(){return ae.apply(this,arguments)}),getUmidToken:(ie=c()(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(void 0===t?{}:t).time,r=void 0===n?1e3:n,e.next=3,me.ready();case 3:if(!de){e.next=5;break}return e.abrupt("return",de);case 5:return e.next=7,pe(r);case 7:return e.abrupt("return",de);case 8:case"end":return e.stop()}}),e)}))),function(e){return ie.apply(this,arguments)}),ready:function(){return fe},init:function(e){return c()(l.a.mark((function t(){var n,r,o,i,a,u,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=void 0===e?{}:e).baxia,o=void 0!==r&&r,i=n.appName,a=n.serviceLocation,window.AWSC){t.next=4;break}return t.next=4,re({url:o?se.current.baxiaUrl:se.current.awscUrl,type:"script"});case 4:if(window.AWSC){t.next=7;break}return oe(),t.abrupt("return");case 7:return u={appName:se.current.appName,serviceLocation:se.current.serviceLocation},i&&(u.appName=i),a&&(u.serviceLocation=a),t.next=12,new Promise((function(e){window.AWSC.configFY((function(t){e(t)}),u)}));case 12:if(c=t.sent){t.next=16;break}return oe(),t.abrupt("return");case 16:le=c.getUA.bind(c),de=c.umidToken,oe();case 19:case"end":return t.stop()}}),t)})))()}},ge=me,ye=n(12);function ve(e){e=function(e){var t,n,r=null===(t=window.goldlog.spm_ab)||void 0===t?void 0:t.join("."),o=e.params=e.params||{},i=o["spm-cnt-cd"];o.st_page_id||(o.st_page_id=window.dmtrack_pageid||""),delete o["spm-cnt-cd"],i&&!o["spm-cnt"]&&(o["spm-cnt"]="".concat(r,".").concat(i)),o["spm-url"]||(o["spm-url"]=Object(ye.a)("spm-url")||"");var a=(null===(n=window.goldlog.spm_ab)||void 0===n?void 0:n[1])||"";if("click"!==e.type||o.ae_page_type||(o.ae_page_type=a),"exposure"!==e.type||o.exp_page||(o.exp_page=a),o.ali_apache_track=encodeURIComponent(we("ali_apache_track"))||"",!o.ali_apache_track){var u=we("xman_us_t");if(u){var c=u.match(/x_lid=([^&]+)/);c&&(o.ali_apache_track=encodeURIComponent("mid=".concat(c[1]))||"")}}return e}(e);var t=Object.keys(e.params).map((function(t){return t+"="+e.params[t]})).join("&");window.goldlog&&window.goldlog.record(e.path,e.event,t,"POST")}function he(e){try{window.goldlog?e():(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["goldlogReady",function(){e()}]})}catch(e){}}function we(e){var t=document.cookie,n=new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*\\=\\s*([^;]*).*$)|^.*$")),r=t.replace(n,"$1");return decodeURIComponent(r)}var _e=n(15),be=function(e){var t,n,r,o=null===(t=O.get("util"))||void 0===t||null===(n=t.tracker)||void 0===n?void 0:n.clk;return o?o(e):(r=e,void he((function(){ve({type:"click",path:r.goldlog_path||"/ae.pc_click.statweb_ae_click",event:"CLK",params:r})})))},xe=function(e){var t,n,r,o=null===(t=O.get("util"))||void 0===t||null===(n=t.tracker)||void 0===n?void 0:n.exp;return o?o(e):(r=e,void he((function(){ve({type:"exposure",path:r.goldlog_path||"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:r})})))};function ke(){return Ce.apply(this,arguments)}function Ce(){return(Ce=c()(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(null===(t=O.get("util"))||void 0===t||null===(n=t.login)||void 0===n?void 0:n.isLogin())||K.isLoggedIn());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){for(var e,t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(null===(e=O.get("util"))||void 0===e||null===(t=e.login)||void 0===t?void 0:t.run.apply(t,r))||(location.href="//login.aliexpress.com")}var Oe,Te=n(25),Ee=O.use("config.mtop",Te.a);function Pe(e){return void 0===e&&(e={}),Oe||(Oe=i.run(e)).then((function(){Oe=null})),Oe}function Ae(e){return je.apply(this,arguments)}function je(){return(je=c()(l.a.mark((function e(t){var n,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=this).params,o=n.options,!0!==r.needLogin){e.next=6;break}return e.next=6,Pe();case 6:return e.abrupt("return",t().then(c()(l.a.mark((function e(){var t,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.retJson,(i=t.ret)instanceof Array&&(i=i.join(",")),!0===r.needLogin){e.next=5;break}return e.abrupt("return");case 5:if(!(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)){e.next=9;break}return e.next=8,Pe({forceLogin:!0});case 8:return e.abrupt("return",n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]));case 9:case"end":return e.stop()}}),e)})))));case 7:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var Ie=!1,Re={load:function(){return c()(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=window.lib)&&void 0!==t&&t.mtop){e.next=3;break}return e.next=3,n.e(26).then(n.bind(null,1114));case 3:return Ie||(Ie=!0,window.lib.mtop.middlewares.push(Ae)),Object.keys(Ee.current).forEach((function(e){"options"!==e&&(window.lib.mtop.config[e]=Ee.current[e])})),e.abrupt("return",Re);case 6:case"end":return e.stop()}}),e)})))()},request:function(e,t,n){return c()(l.a.mark((function r(){var o;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Re.load();case 2:if(o=Object.assign({},e,Ee.current.options||{}),!t){r.next=7;break}return r.abrupt("return",window.lib.mtop.request(o,t,n));case 7:return r.abrupt("return",window.lib.mtop.request(o));case 8:case"end":return r.stop()}}),r)})))()}},qe=Re,Ne=function(){var e=c()(l.a.mark((function e(t,n,r){var o,i,u,c,s,p,d,f,m,g,y,v,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n="pc"),!r){e.next=3;break}return e.abrupt("return",new Promise((function(e,t){e({data:{popLayerRuleMap:null==r?void 0:r.popLayerRuleMap}})})));case 3:return s=K.get("aep_usuc_f","b_locale"),p=K.getRegion(),d=s&&(null==s||null===(o=s.split("_"))||void 0===o?void 0:o[0])+"_"+p,f=K.getCurrency(),m=K.get("xman_us_f","acs_rt"),g=K.get("xman_us_f","x_as_i"),d="en_CN"===d?"en_US":d,y=a.awsc,e.next=13,y.init();case 13:return e.next=15,y.getUA();case 15:return v=e.sent,e.next=18,y.getUmidToken();case 18:return h=e.sent,window.fyOBJ=void 0,window.AWSC.configFYEx((function(e){window.fyOBJ=e}),{location:"cn",MaxMTLog:5,MaxKSLog:5,MaxFocusLog:5,MaxNGPLog:5},3e3),e.abrupt("return",qe.request({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",appKey:"24815441",data:{_currency:f,_lang:d,clientType:n,positionSign:t,ua:v,umidToken:h,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(i=window)||void 0===i||null===(u=i.location)||void 0===u?void 0:u.href,appAffiParameters:decodeURIComponent(g||"")||"",acsRt:m,referUrl:null===(c=document)||void 0===c?void 0:c.referrer}})}}));case 21:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ue="poplayer-web-container-cachetimes",Le=function(){var e={};if(!f.g){var t=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),n=t.substr(t.indexOf("?"));n&&n.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(t,n,r,o){return e[n]=decodeURIComponent(o),""}))}return e}();function Me(e){throw e}var We={};function Je(){var e=localStorage.getItem(Ue)||"";try{e&&(We=JSON.parse(e)||{})}catch(e){We={}}}var Be,Qe=function(){return We},De=(Be={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(r=We[t]).times-r.showTimes>0?p()({},We,((n={})[t]=p()({},r,{showTimes:r.showTimes+1}),n)):We;case"addTime":return function(e,t){var n,r=We[e];return p()({},We,((n={})[e]=p()({},r,{showTimes:r.showTimes-t}),n))}(e.payload.key,e.payload.times);default:Me("action should has type property")}var t,n,r},afterProcess:[function(e){We=e,localStorage.setItem(Ue,JSON.stringify(We))}]},function(e){var t;void 0===e&&(e={});var n=Be.reducer(e);null==Be||null===(t=Be.afterProcess)||void 0===t||t.forEach((function(e){e(n)}))}),Fe=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],He=function(){if(!f.g){var e="postMessage"in window;return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},n.prototype.addTarget=function(e,n){var r=new t(e,n,this.prefix);this.targets[n]=r},n.prototype.initListen=function(){var t=this,n=function(e){if((-1!==Fe.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var n=(e=e.data).split("__Messenger__"),r=(e=n[1],n[0].split("|")),o=r[0],i=r[1],a=0;a<t.listenFunc.length;a++)o+i===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator[this.prefix+this.name]=n},n.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,r=!1;t<n;t++)if(this.listenFunc[t]==e){r=!0;break}r||this.listenFunc.push(e)},n.prototype.clear=function(){this.listenFunc=[]},n.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},n}function t(e,t,n){var r="";if(arguments.length<2?r="target error - target and name are both required":"object"!=typeof e?r="target error - target itself must be window object":"string"!=typeof t&&(r="target error - target name must be string type"),r)throw new Error(r);this.target=e,this.name=t,this.prefix=n}function n(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}}();function Ge(e,t,n){var r=e.indexOf("?");return r>=0&&(r<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(n)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(n)+"#"):e+"?"+t+"="+encodeURIComponent(n)}var $e=n(14),Xe=n.n($e);function Ke(e){var t=Object.keys(e.params).map((function(t){return t+"="+e.params[t]})).join("&");window.goldlog&&window.goldlog.record(e.path,e.event,"st_page_id=".concat(window.dmtrack_pageid,"&").concat(t),"POST")}function Ve(e){try{window.goldlog?e():(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["goldlogReady",function(){e()}]})}catch(e){}}function ze(e){Ve((function(){Ke({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}))}function Ye(e){Ve((function(){Ke({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}))}var Ze=["type"];function et(e){return tt.apply(this,arguments)}function tt(){return(tt=c()(l.a.mark((function e(t){var n,r,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=t.type,o=Xe()(t,Ze),Object.keys(o||{}).reduce((function(e,n){var r=o[n];return t[n]=r,r?e+"&"+n+"="+r:e}),""),i=[""+t.log_key,"click"===r?"CLK":"EXP"],"poplayer","click"===r?t.ae_page_type="poplayer":t.exp_type="poplayer",t["spm-cnt"]=null!==(n=null==t?void 0:t["spm-cnt"])&&void 0!==n?n:"a2g0n.poplayer",t.sdkVersion="1.0.36","CLK"===i[1]?ze(t):Ye(t)}catch(e){console.log("poplayer 打点上报出错:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nt(){return!!window.navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function rt(e){var t=e.positionSign,n=e.uuid,r="autoCollectPopCoupon-"+t,o=localStorage.getItem(r)||"";if(o)try{var i=(o?JSON.parse(o):{})||{},a=(i.positionSign,i.uuid),u=i.timestamp,c=void 0===u?0:u,s=+new Date;a&&(a!==n||s-c>=3e5)&&localStorage.removeItem(r)}catch(e){}}var ot=function(e){var t=e;return"object"==typeof e&&(t=JSON.stringify(e)),encodeURIComponent(t)},it=n(28),at=n.n(it),ut=n(45),ct=n.n(ut),st=n(515);var pt=function(e,t,n){var r,o,i=document.createElement("div");document.body.appendChild(i);var a=null==t||null===(r=t.params)||void 0===r?void 0:r.jsComboUrl,u=null===(o=a.match(/@ali\/gmod-(poplayer|pop)(-[a-z]+)+/))||void 0===o?void 0:o[0],c=Object(st.a)();if(window[u]){var s=at.a.createElement(window[u],{popInfo:t,positionSign:e.positionSign,parentSpmB:document.body.getAttribute("data-spm")||"0",uuid:n,isSupportWebp:c});s&&ct.a.render(s,i)}else{var p,d,l=document.createElement("script");l.src=a,null===(p=document.getElementsByTagName("head"))||void 0===p||null===(d=p[0])||void 0===d||d.appendChild(l),l.onload=function(){var r,o=document.body.getAttribute("data-spm")||"0";if(null!==(r=window)&&void 0!==r&&r[u]){var a=at.a.createElement(window[u],{popInfo:t,positionSign:e.positionSign,parentSpmB:o,uuid:n,isSupportWebp:c});a&&ct.a.render(a,i)}}}return i},dt=function(){return"postMessage"in window};function lt(e,t){var n=[];for(var r in e)n.push(p()({},e[r],{uuid:r}));var o=n.filter((function(e){return(null==e?void 0:e.times)>(null==e?void 0:e.showTimes)})).map((function(e){return e.uuid})),i=[];Object.keys(t).map((function(e,n){i.push({keyName:e,value:t[e]})}));var a=i.sort((function(e,t){return t.value.priority-e.value.priority})).filter((function(e){return o.includes(e.value.uuid)})),u={smallImage:!1,snackbar:!1,other:!1};return a.length?a.filter((function(e){if("smallImage"===e.value.type){if(!u.smallImage)return u.smallImage=!0,!0}else if("snackbar"===e.value.type){if(!u.snackbar)return u.snackbar=!0,!0}else if(!u.other)return u.other=!0,!0;return!1})).map((function(e){return e.keyName})):[]}function ft(e,t,n){var r=document.createElement("iframe"),o=t.split(/_/)&&t.split(/_/)[2];return o&&(r.src=Ge(Ge(Ge(e,"__poplayer_preserve_uuid",o),"__prefix",Le.__prefix||""),"__poplayer_position_sign",n),r.name=t,r.style.width="100%",r.style.height="100%",r.style.border="none",r.style.display="none",r.style.position="fixed",r.style.zIndex="-100",r.style.left="0",r.style.top="0",r.style.transform="translate3d(0, 0, -100)",document.body.appendChild(r)),r}function mt(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function gt(e,t,n,r){return void 0===r&&(r=0),{showTimes:0===t?-1:n||0}}function yt(e,t,n,r,o,i,a,u){void 0===a&&(a=!1);var c=nt()?"a2g0n":"a2g0o",s=nt()?"msite":"pc",d=Date.now(),l=new He(e+"parent",void 0);l.addTarget(t.contentWindow||window,e),l.listen((function(e){var l,f,m,g,y,v,h,w,_=JSON.parse(e);switch(_.type){case"load":et(((f={log_key:"/ae.pc_ctr.statweb_ae_ctr"})["spm-cnt"]=c+"."+i+".poplayer.loadsuccess",f.type="expose",f.exp_page=r,f.positionSign=o,f.exp_type="poplayer",f.houyiTrack=ot(n),f.isNewModule=a,f.clientType=s,f.extend=JSON.stringify(null!==(l=null==_?void 0:_.extend)&&void 0!==l?l:{}),f));break;case"resizeWidthPosition":_.payload&&_.payload.width&&(t.style.width=mt(_.payload.width)),_.payload&&_.payload.height&&(t.style.height=mt(_.payload.height)),_.payload&&_.payload.top&&(t.style.top=mt(_.payload.top)),_.payload&&_.payload.bottom&&(t.style.bottom=mt(_.payload.bottom)),_.payload&&_.payload.left&&(t.style.left=mt(_.payload.left)),_.payload&&_.payload.right&&(t.style.right=mt(_.payload.right));break;case"show":et(((m={log_key:"/ae.pc_ctr.statweb_ae_ctr"})["spm-cnt"]=c+"."+i+".poplayer.display",m.type="expose",m.positionSign=o,m.exp_page=r,m.exp_type="poplayer",m.houyiTrack=ot(n),m.clientType=s,m.isNewModule=a,m.timeToShow=""+(Date.now()-d),m.extend=JSON.stringify(null!=_&&_.extend?p()({m_page_id:window.dmtrack_pageid||"","spm-url":Le.spm||""},_.extend):{}),m)),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",De({type:"reduceTime",payload:{key:u}});break;case"addTime":De({type:"addTime",payload:{key:u,times:_.payload}});break;case"link":et(((y={log_key:"/ae.pc_click.statweb_ae_click"})["spm-cnt"]=c+"."+i+".poplayer.jump",y.type="click",y.positionSign=o,y.exp_page=r,y.exp_type="poplayer",y.houyiTrack=ot(n),y.clientType=s,y.isNewModule=a,y.extend=JSON.stringify(null!==(g=null==_?void 0:_.extend)&&void 0!==g?g:{}),y));var b=_.payload;b=b.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=b;break;case"close":document.body.removeChild(t),et(((v={log_key:"/ae.pc_click.statweb_ae_click"})["spm-cnt"]=c+"."+i+".poplayer.close",v.type="click",v.positionSign=o,v.exp_page=r,v.exp_type="poplayer",v.houyiTrack=ot(n),v.clientType=s,v.isNewModule=a,v.extend=JSON.stringify(null!=_&&_.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":Le.spm||""}:{}),v));break;case"failed":document.body.removeChild(t),et(((w={log_key:"/ae.pc_ctr.statweb_ae_ctr"})["spm-cnt"]=c+"."+i+".poplayer.hidden",w.type="expose",w.positionSign=o,w.exp_page=r,w.houyiTrack=ot(n),w.isNewModule=a,w.exp_type="poplayer",w.clientType=s,w.extend=JSON.stringify(null!==(h=null==_?void 0:_.extend)&&void 0!==h?h:{}),w));break;default:document.body.removeChild(t),Me("never unknown message happen, auto close poplayer")}}))}function vt(){return(vt=c()(l.a.mark((function e(t,n){var r,o,i,a,u,c,s,d,f,m,g;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nt()?"a2g0n":"a2g0o",a=nt()?"msite":"pc",Je(),u=document.body.getAttribute("data-spm")||"0",et(((r={log_key:"/ae.pc_ctr.statweb_ae_ctr"})["spm-cnt"]=i+"."+u+".poplayer.trigger",r.type="expose",r.positionSign=t.positionSign,r.exp_page=t.positionSign,r.exp_type="poplayer",r.clientType=a,r)),e.next=7,Ne(t.positionSign,a,n);case 7:c=e.sent,s=Qe(),d=null==c||null===(o=c.data)||void 0===o?void 0:o.popLayerRuleMap,f=Object.keys(d).reduce((function(e,t){var n;return p()({},e,((n={})[t]=JSON.parse(d[t]),n))}),{}),m=Object.keys(f).reduce((function(e,t){var n,r,o,i=f[t];return p()({},e,((o={})[i.uuid]=p()({times:i.times,type:i.type,priority:i.priority},gt(0,i.times,null===(n=s[i.uuid])||void 0===n?void 0:n.showTimes,null===(r=s[i.uuid])||void 0===r?void 0:r.startTime)),o))}),{}),De({type:"add",payload:m}),(g=lt(m,f)).length&&g.forEach((function(e){var n,r,o,c,s,p,d,l,m,g,y=null===(n=f[e])||void 0===n||null===(r=n.params)||void 0===r?void 0:r.extGcpOutputPageUrl,v=null===(o=f[e])||void 0===o||null===(c=o.params)||void 0===c?void 0:c.jsComboUrl,h=null===(s=f[e])||void 0===s?void 0:s.type,w=null===(p=f[e])||void 0===p||null===(d=p.params)||void 0===d?void 0:d.type;"placeholder"===h&&"emptyContent"===w&&et(((g={log_key:"/ae.pc_ctr.statweb_ae_ctr"})["spm-cnt"]=i+"."+u+".poplayer.openurl",g.type="expose",g.positionSign=t.positionSign,g.houyiTrack=ot(null===(l=f[e])||void 0===l||null===(m=l.params)||void 0===m?void 0:m.track),g.exp_page=y,g.exp_type="poplayer",g.clientType=a,g));if(y&&dt()){var _,b,x,k,C,S;if(et(((x={log_key:"/ae.pc_ctr.statweb_ae_ctr"})["spm-cnt"]=i+"."+u+".poplayer.openurl",x.type="expose",x.positionSign=t.positionSign,x.houyiTrack=ot(null===(_=f[e])||void 0===_||null===(b=_.params)||void 0===b?void 0:b.track),x.exp_page=y,x.exp_type="poplayer",x.clientType=a,x)),v){var O,T,E,P=null===(O=f[e])||void 0===O||null===(T=O.params)||void 0===T?void 0:T.track;return yt(e,pt(t,f[e],e),P,window.location.href,t.positionSign,u,!0,null===(E=f[e])||void 0===E?void 0:E.uuid),void rt({positionSign:t.positionSign,uuid:e})}var A=y,j=ft(A+=A.indexOf("?")>=0?"&parentSpmB="+u:"?parentSpmB="+u,e,t.positionSign);j.onerror=function(e){console.log(e)},yt(e,j,null===(k=f[e])||void 0===k||null===(C=k.params)||void 0===C?void 0:C.track,y,t.positionSign,u,!1,null===(S=f[e])||void 0===S?void 0:S.uuid)}}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e,t){return vt.apply(this,arguments)}},296:function(e,t){},515:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return k}));var r,o=n(2),i=n.n(o),a=n(14),u=n.n(a),c=n(81),s=n.n(c),p=n(28),d=n.n(p),l=n(71),f=n.n(l),m=n(4),g=n(59),y={ie:999,edge:18,firefox:65,opera:18,chrome:32},v=function(e){if(!e)return null;var t,n=function(e){var t,n,r=e.toLowerCase();try{if(n=r.match(/rv:([\d.]+)\) like gecko/)){var o=0,a=n[1],u=a.match(/(\d+)\./);u&&(o=parseInt(u[1])),t={type:"ie",versionStr:a,version:o}}else if(n=r.match(/msie ([\d\.]+)/)){var c=0,s=n[1],p=s.match(/(\d+)\./);p&&(c=parseInt(p[1])),t={type:"ie",versionStr:s,version:c}}else if(n=r.match(/edg?e\/([\d\.]+)/)){var d=0,l=n[1],f=l.match(/(\d+)\./);f&&(d=parseInt(f[1])),t={type:"edge",versionStr:l,version:d}}else if(n=r.match(/firefox\/([\d\.]+)/)){var m=0,g=n[1],y=g.match(/(\d+)\./);y&&(m=parseInt(y[1])),t={type:"firefox",versionStr:g,version:m}}else if(n=r.match(/(?:opera|opr).([\d\.]+)/)){var v=0,h=n[1],w=h.match(/(\d+)\./);w&&(v=parseInt(w[1])),t={type:"opera",versionStr:h,version:v}}else if(n=r.match(/chrome\/([\d\.]+)/)){var _=0,b=n[1],x=b.match(/(\d+)\./);x&&(_=parseInt(x[1])),t={type:"chrome",versionStr:b,version:_}}else if(n=r.match(/version\/([\d\.]+).*safari/)){var k=0,C=n[1],S=C.match(/(\d+)\./);S&&(k=parseInt(S[1])),t={type:"safari",versionStr:C,version:k}}}catch(e){console.error(e)}return t=i()({},t,{ua:r})}(e);return n&&n.version&&n.type?(t="safari"===n.type?n.ua.match(/(iPhone|iPad)/)?(null==n?void 0:n.version)>=14:n.version>=14:n.version>=y[n.type],i()({},n,{supportWebp:t})):null},h=!m.g&&null;function w(){if(m.g){var e=v(Object(g.a)());return Boolean(null==e?void 0:e.supportWebp)}if(null===h)try{var t,n;h=0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")||"1"===(null===(t=window)||void 0===t||null===(n=t.localStorage)||void 0===n?void 0:n.getItem("ae_u_webp"))}catch(e){h=!1}return h}function _(e){return/^.+_\.webp$/.test(e)}function b(){return w()}function x(e){var t=/(\.jpg|\.jpeg|\.png)/;return!!t.test(e)&&e.match(t)[0]}function k(e,t){var n=_(e),r=function(e){return/(\.((jp(e)?g)|png)).+\1/.test(e)||_(e)}(e),o=!/(ae0(1|2|3|4).alicdn.com\/kf)/.test(e),i=x(e),a=t.compressedHeight,u=t.compressedWidth,c=t.clipAsSquare,s=void 0!==c&&c,p=t.compressQuality,d=void 0!==p&&p,l=t.quality,f=void 0===l?90:l,m=t.relativeQuality,g=void 0!==m&&m,y=t.useWebp,v=void 0===y||y,h={compressedHeight:a,compressedWidth:u,clipAsSquare:s},w={compressQuality:d,quality:f,relativeQuality:g};if(o||!i)return e;if(r)return v&&!n?function(e){var t=_(e);return b()&&!t?e+"_.webp":e}(e):e;var k=e,C="";(a||u)&&(a||(h.compressedHeight=u),u||(h.compressedWidth=a),C=function(e,t){var n=e.compressedHeight,r=e.compressedWidth,o=e.clipAsSquare,i=n+"x"+r;return void 0==={"960x10000":1,"640x10000":1,"220x10000":1,"960x960":1,"720x720":1,"640x640":1,"480x480":1,"350x350":1,"300x300":1,"250x250":1,"220x220":1,"200x200":1,"140x140":1,"120x120":1,"100x100":1,"80x80":1,"50x50":1}[i]&&(i="480x480"),o?i+"xz":i}(h));/(\.jpg|\.jpeg)/.test(e)&&d&&(C=function(e,t){var n=e.compressQuality,r=e.quality,o=e.relativeQuality;return t+=n?o?"q"+r:"Q"+r:""}(w,C));var S=x(e);if(v&&b()&&!n)k=C?k+"_"+C+S+"_.webp":k+"_.webp";else{if(!C)return e;k=k+"_"+C+S}return k}m.g||((r=new Image).onload=function(){var e,t;h=r.width>0&&r.height>0,null===(e=window)||void 0===e||null===(t=e.localStorage)||void 0===t||t.setItem("ae_u_webp","1")},r.onerror=function(){var e,t;h=!1,null===(e=window)||void 0===e||null===(t=e.localStorage)||void 0===t||t.removeItem("ae_u_webp")},r.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"),n(296);var C=["src","compressedHeight","compressedWidth","clipAsSquare","compressQuality","quality","relativeQuality","useWebp"],S=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t.prototype.render=function(){var e=this.props,t=e.src,n=e.compressedHeight,r=e.compressedWidth,o=e.clipAsSquare,a=e.compressQuality,c=e.quality,s=e.relativeQuality,p=e.useWebp,l=u()(e,C),f=k(t,{compressedHeight:n,compressedWidth:r,clipAsSquare:o,compressQuality:a,quality:c,relativeQuality:s,useWebp:p});return d.a.createElement("img",i()({src:f},l))},t}(d.a.PureComponent);S.propTypes={src:f.a.string,className:f.a.string,compressedHeight:f.a.number,compressedWidth:f.a.number,clipAsSquare:f.a.bool,compressQuality:f.a.bool,quality:f.a.number,relativeQuality:f.a.bool,useWebp:f.a.bool},S.defaultProps={compressQuality:!1,clipAsSquare:!1,quality:90,relativeQuality:!1,useWebp:!0}},59:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(4),o=function(){return r.g?Object(r.e)():navigator.userAgent},i=/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i,a=function(){var e=o();return i.test(e)};function u(){var e=o();return/AliApp\(AE/.test(e)}function c(){var e=o();return/iPhone/.test(e)||/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(e)}function s(){var e=o();return/Android/.test(e)||/Adr/.test(e)}},71:function(e,t,n){e.exports=n(108)()},81:function(e,t,n){var r=n(104);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports}}]);